@baseUrl = http://localhost:3000
@gatewayKey = AGK.h40KjfWN3Vc3mS0CcX9rV7Jx2uWfhjfxHv59eOeEAdM
@jwtToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjM1ZDFlMWYxLTM0ZDgtNGM5Yy1hZmRlLTU5ZmVkN2Q5MzM4MSIsInVzZXJuYW1lIjoiY2FuZHJpYW0iLCJpYXQiOjE3Njg0NDcxMTgsImV4cCI6MTc2ODQ0ODAxOH0.KLu1fB4mRhnMKs9j3Hgyjhn_oOj2w8TlXS-xtaAGMXk
@refreshToken = c7c49e363bbecd4301df4b04aaee85b1d8495ab99866762e7c57784c6b3f07cc438d22f53ac0d8ed51be3715f550f4ba75000447ce0d734cc4f02830937006fd
@userApiKey = cs_661a324c-47fb-4b61-aaa5-aae783dc94c3_1767848230_df0465c5.5goFIdr2_1YSREeT2aUaPxPQKPGGJshe
@authorId = 35d1e1f1-34d8-4c9c-afde-59fed7d93381
@otherUserId = 2a64ed7e-29d7-4c4e-89e0-257b787fbf12
@categoryId = 76201871-6a2c-4060-a112-e91dee221b75
@recipeId = bf459cc8-6cc8-47a4-9f1d-38a474e587de
@commentId = cc5aa65e-7489-43d2-bb90-bba6d83be01e
@replyCommentId1 = 3c6c246c-551e-42d8-9b81-4583c6f3658a
@replyCommentId2 = 5d059a4f-67f2-41b7-a5bd-6833e89ad48a
@requestId = 4ad469b6-883d-4ef8-bc1d-e189fcb38c77
@notificationId = 

### 1. Register a new user (requires email verification)
POST {{baseUrl}}/api/v1/auth/register
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}

{
    "email": "candriam21.test@example.com",
    "password": "password123",
    "username": "candriam21",
    "firstName": "Test",
    "lastName": "User"
}

### 2. Login (get JWT)
POST {{baseUrl}}/api/v1/auth/login
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}

{
    "identifier": "candriam",
    "password": "newpassword123"
}

### 3. Refresh Token
POST {{baseUrl}}/api/v1/auth/refresh
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "refreshToken": "{{refreshToken}}"
}

### 4. Logout
POST {{baseUrl}}/api/v1/auth/logout
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### 5. Forgot Password
POST {{baseUrl}}/api/v1/auth/forgot-password
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}

{
    "email": "candriam.test@example.com"
}

### 6. Reset Password (token from email)
POST {{baseUrl}}/api/v1/auth/reset-password
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}

{
    "token": "reset_token_here",
    "newPassword": "newpassword123"
}

### 7. Verify Email (token from email)
POST {{baseUrl}}/api/v1/auth/verify-email
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}

{
    "token": "email_verification_token_here"
}

### 8. Resend Verification Email
POST {{baseUrl}}/api/v1/auth/resend-verification
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}

{
    "email": "candriam.test@example.com"
}

### ============================================
### USER ROUTES
### ============================================

### Get Current User Profile
GET {{baseUrl}}/api/v1/users/me
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get All Users (Admin/Public?)
GET {{baseUrl}}/api/v1/users
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get User by ID
GET {{baseUrl}}/api/v1/users/{{authorId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Upload Avatar (Multipart Form - Logical Representation)
# POST {{baseUrl}}/api/v1/users/me/avatar
# Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW
# Authorization: Bearer {{jwtToken}}
# x-gateway-api-key: {{gatewayKey}}
#
# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="avatar"; filename="avatar.png"
# Content-Type: image/png
#
# < ./avatar.png
# ------WebKitFormBoundary7MA4YWxkTrZu0gW--

### Get Current User Profile
### Update User Profile
PUT {{baseUrl}}/api/v1/users/{{authorId}}
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "bio": "I love cooking Italian food!",
    "firstName": "UpdatedFirstName",
    "lastName": "UpdatedLastName"
}

### Generate API Key
POST {{baseUrl}}/api/v1/users/api-key/generate
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Delete User (Self)
DELETE {{baseUrl}}/api/v1/users/{{authorId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### RECIPE ROUTES
### ============================================

### Create New Recipe
POST {{baseUrl}}/api/v1/recipes
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "title": "Poulet Tikka Masala",
    "description": "Un délicieux plat indien crémeux et épicé, parfait pour un dîner en famille. Le poulet est mariné dans des épices et du yaourt, puis cuit dans une sauce tomate onctueuse.",
    "prepTime": 30,
    "cookTime": 45,
    "servings": 4,
    "difficulty": "MEDIUM",
    "isPublished": true,
    "authorId": "{{authorId}}",
    "categoryId": "{{categoryId}}",
    "ingredients": [
        { "name": "Poulet", "quantityText": "500g", "isOptional": false },
        { "name": "Yaourt nature", "quantityText": "200g", "isOptional": false },
        { "name": "Crème fraîche", "quantityText": "200ml", "isOptional": false },
        { "name": "Tomates concassées", "quantityText": "400g", "isOptional": false },
        { "name": "Oignon", "quantityText": "1 gros", "isOptional": false },
        { "name": "Ail", "quantityText": "3 gousses", "isOptional": false },
        { "name": "Gingembre", "quantityText": "2 cm", "isOptional": false },
        { "name": "Épices tikka masala", "quantityText": "2 c.s", "isOptional": false },
        { "name": "Curcuma", "quantityText": "1 c.c", "isOptional": false },
        { "name": "Coriandre fraîche", "quantityText": "1 bouquet", "isOptional": true }
    ],
    "instructions": [
        { "stepNumber": 1, "description": "Couper le poulet en morceaux et le faire mariner dans le yaourt avec les épices pendant 2 heures minimum." },
        { "stepNumber": 2, "description": "Émincer l'oignon, hacher l'ail et le gingembre." },
        { "stepNumber": 3, "description": "Dans une poêle, faire revenir l'oignon jusqu'à ce qu'il soit doré." },
        { "stepNumber": 4, "description": "Ajouter l'ail et le gingembre, cuire 1 minute." },
        { "stepNumber": 5, "description": "Ajouter le poulet mariné et le faire dorer de tous les côtés." },
        { "stepNumber": 6, "description": "Incorporer les tomates concassées et les épices restantes. Laisser mijoter 20 minutes." },
        { "stepNumber": 7, "description": "Ajouter la crème fraîche, mélanger et cuire encore 5 minutes." },
        { "stepNumber": 8, "description": "Servir chaud avec du riz basmati, garni de coriandre fraîche." }
    ]
}

### Get All Recipes
GET {{baseUrl}}/api/v1/recipes
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Recipe by ID
GET {{baseUrl}}/api/v1/recipes/{{recipeId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Recipe by Slug
GET {{baseUrl}}/api/v1/recipes/by-slug/poulet-tikka-masala
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Update Recipe
PUT {{baseUrl}}/api/v1/recipes/{{recipeId}}
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "title": "Authentic Spaghetti Carbonara",
    "description": "Updated description for the classic dish."
}

### Delete Recipe
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Search Recipes
GET {{baseUrl}}/api/v1/recipes/search?q=poulet
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Filter by Category
GET {{baseUrl}}/api/v1/recipes/category/{{categoryId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Filter by Author
GET {{baseUrl}}/api/v1/recipes/author/{{authorId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Filter by Difficulty
GET {{baseUrl}}/api/v1/recipes/difficulty/MEDIUM
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get My Recipes
GET {{baseUrl}}/api/v1/recipes/me
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### CATEGORY ROUTES
### ============================================
### create category
### 1. Apéritifs
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Apéritifs",
  "iconName": "wine-glass",
  "color": "#FF6B6B",
  "sortOrder": 1
}

### 2. Entrées
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Entrées",
  "iconName": "bowl-food",
  "color": "#4ECDC4",
  "sortOrder": 2
}

### 3. Plats Principaux
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Plats Principaux",
  "iconName": "utensils",
  "color": "#1A535C",
  "sortOrder": 3
}

### 4. Desserts
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Desserts",
  "iconName": "ice-cream",
  "color": "#FF9F1C",
  "sortOrder": 4
}

### 5. Accompagnements
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Accompagnements",
  "iconName": "carrot",
  "color": "#9BC53D",
  "sortOrder": 5
}

### 6. Boissons
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Boissons",
  "iconName": "mug-hot",
  "color": "#5D576B",
  "sortOrder": 6
}

### 7. Petit-Déjeuner
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Petit-Déjeuner",
  "iconName": "egg",
  "color": "#F7B801",
  "sortOrder": 7
}

### 8. Boulangerie
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Boulangerie",
  "iconName": "bread-slice",
  "color": "#8D5B4C",
  "sortOrder": 8
}

### 9. Sauces
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Sauces & Bases",
  "iconName": "jar",
  "color": "#A5A58D",
  "sortOrder": 9
}

### 10. Snacks
POST http://localhost:3000/api/v1/categories
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "name": "Snacks",
  "iconName": "hamburger",
  "color": "#FF6B6B",
  "sortOrder": 10
}


### Get All Categories
GET {{baseUrl}}/api/v1/categories
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Category by ID
GET {{baseUrl}}/api/v1/categories/{{categoryId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Category by Slug
GET {{baseUrl}}/api/v1/categories/by-slug/plats-principaux
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Update Category
PUT {{baseUrl}}/api/v1/categories/{{categoryId}}
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "name": "Italian Cuisine",
    "description": "Recipes from Italy."
}

### Delete Category
DELETE {{baseUrl}}/api/v1/categories/{{categoryId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### RATING ROUTES
### ============================================

### Add Rating
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/ratings
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "score": 5
}

### Get Ratings for Recipe
GET {{baseUrl}}/api/v1/recipes/{{recipeId}}/ratings
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Update Rating
PUT {{baseUrl}}/api/v1/recipes/{{recipeId}}/ratings
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "score": 4
}

### Delete Rating
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}/ratings
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### COMMENT ROUTES
### ============================================

### Add Comment (Top-level)
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/comments
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "content": "Can I substitute guanciale with bacon?"
}

### Get Comments for Recipe
GET {{baseUrl}}/api/v1/recipes/{{recipeId}}/comments
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Update Comment
PUT {{baseUrl}}/api/v1/recipes/{{recipeId}}/comments/{{commentId}}
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "content": "Can I substitute guanciale with pancetta?"
}

### Delete Comment
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}/comments/{{commentId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Reply to a Comment (Nested)
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/comments/{{commentId}}/replies
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "content": "Yes, bacon works too but it will be smokier."
}

### ============================================
### FAVORITE ROUTES
### ============================================

### Add to Favorites
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/favorite
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get My Favorites
GET {{baseUrl}}/api/v1/me/favorites
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Remove from Favorites
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}/favorite
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### IMAGE MANAGEMENT ROUTES
### ============================================

### 1. Simple Single Upload (Multipart Form)
### Note: REST Client extension doesn't support multipart/form-data easily.
### You usually need to provide a file path.
### Example logical representation:
# POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/upload
# Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW
# Authorization: Bearer {{jwtToken}}
# x-gateway-api-key: {{gatewayKey}}

# ------WebKitFormBoundary7MA4YWxkTrZu0gW
# Content-Disposition: form-data; name="image"; filename="pizza.jpg"
# Content-Type: image/jpeg

# < ./pizza.jpg
# ------WebKitFormBoundary7MA4YWxkTrZu0gW--


### 2. Upload from URL (JSON)
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/url
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg/800px-Eq_it-na_pizza-margherita_sep2005_sml.jpg"
}

### 3. Bulk Upload from URLs (JSON)
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/urls
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "images": [
        "https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Pizza-3007395.jpg/800px-Pizza-3007395.jpg",
        "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Supreme_pizza.jpg/800px-Supreme_pizza.jpg"
    ]
}

### 4. Get Recipe Images
GET {{baseUrl}}/api/v1/recipes/{{recipeId}}/images
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### 4.1 Update Image Details (Alt Text, etc.)
PUT {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/{{replyCommentId1}}
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "altText": "Updated alt text for this delicious pizza",
    "isPrimary": false,
    "sortOrder": 5
}

### 4.2 Bulk Upload Local Images (Multipart - Logical Representation)
# POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/uploads
# Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryBulk
# Authorization: Bearer {{jwtToken}}
# x-gateway-api-key: {{gatewayKey}}
#
# ------WebKitFormBoundaryBulk
# Content-Disposition: form-data; name="images"; filename="img1.jpg"
# Content-Type: image/jpeg
# ...
# ------WebKitFormBoundaryBulk
# Content-Disposition: form-data; name="images"; filename="img2.jpg"
# Content-Type: image/jpeg
# ...
# ------WebKitFormBoundaryBulk--

### 5. Reorder Images
PUT {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/reorder
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "imageIds": ["{{replyCommentId1}}", "{{replyCommentId2}}"]
}

### 6. Set Primary Image (using the first ID from the list you got in step 4)
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/{{replyCommentId1}}/primary
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### 7. Delete Single Image
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/{{replyCommentId1}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### 8. Bulk Delete Images
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/bulk
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "imageIds": ["9343b333-e135-4db4-81ae-3c311b04cff7", "63fac4c0-da3a-4e95-9b49-4a4a59f31ae1", "e7856aae-995b-44a8-aadb-d8f643d20846"]
}

### ============================================
### MULTIPLE IMAGES ERROR CASES
### ============================================

### Upload multiple with empty array (should fail)
POST {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/urls
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "images": []
}

### Delete multiple with empty array (should fail)
DELETE {{baseUrl}}/api/v1/recipes/{{recipeId}}/images/bulk
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
    "imageIds": []
}

### User Search
GET http://localhost:3000/api/v1/users/search?q=candriam
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Block User
POST http://localhost:3000/api/v1/users/{{otherUserId}}/block
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Blocked Users
GET http://localhost:3000/api/v1/users/me/blocked
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Unblock User
DELETE http://localhost:3000/api/v1/users/{{otherUserId}}/block
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Change Password
POST http://localhost:3000/api/v1/users/change-password
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "oldPassword": "password123",
  "newPassword": "newpassword123"
}

### Send Friend Request
POST http://localhost:3000/api/v1/users/friend-requests
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

{
  "receiverId": "{{otherUserId}}"
}

### Get Friend Requests
GET http://localhost:3000/api/v1/users/me/friend-requests
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Accept Friend Request
PUT http://localhost:3000/api/v1/users/friend-requests/{{requestId}}/accept
# Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Friends
GET http://localhost:3000/api/v1/users/me/friends
Content-Type: application/json
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Reject Friend Request
PUT http://localhost:3000/api/v1/users/friend-requests/{{requestId}}/reject
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Remove Friend
DELETE http://localhost:3000/api/v1/users/friends/{{otherUserId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Follow User
POST http://localhost:3000/api/v1/users/{{otherUserId}}/follow
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Check Is Following
GET http://localhost:3000/api/v1/users/{{otherUserId}}/is-following
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get My Followers
GET http://localhost:3000/api/v1/users/me/followers
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get My Following
GET http://localhost:3000/api/v1/users/me/following
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get User Followers
GET http://localhost:3000/api/v1/users/{{otherUserId}}/followers
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get User Following
GET http://localhost:3000/api/v1/users/{{otherUserId}}/following
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Unfollow User
DELETE http://localhost:3000/api/v1/users/{{otherUserId}}/follow
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### VIEW COUNT VERIFICATION
### ============================================

### Get Recipe (Check ViewCount = N)
GET {{baseUrl}}/api/v1/recipes/{{recipeId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Recipe Again (Check ViewCount = N+1)
GET {{baseUrl}}/api/v1/recipes/{{recipeId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Get Recipe By Slug (Check ViewCount = N+2)
GET {{baseUrl}}/api/v1/recipes/by-slug/poulet-tikka-masala
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### ============================================
### INTERNAL ROUTES (MANUAL TESTING)
### ============================================

### Manually Set User Online (Internal)
PUT http://localhost:3003/api/v1/internal/users/{{authorId}}/status
Content-Type: application/json
x-internal-api-key: my-super-secret-internal-key

{
    "isOnline": true
}

### Manually Set User Offline (Internal)
PUT http://localhost:3003/api/v1/internal/users/{{authorId}}/status
Content-Type: application/json
x-internal-api-key: my-super-secret-internal-key

{
    "isOnline": false
}


### ============================================
### NOTIFICATION ROUTES
### ============================================

### Get My Notifications
GET {{baseUrl}}/api/v1/notifications
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Mark Notification as Read
PUT {{baseUrl}}/api/v1/notifications/{{notificationId}}/read
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Mark All Notifications as Read
PUT {{baseUrl}}/api/v1/notifications/read-all
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

### Delete Notification
DELETE {{baseUrl}}/api/v1/notifications/{{notificationId}}
x-gateway-api-key: {{gatewayKey}}
Authorization: Bearer {{jwtToken}}

